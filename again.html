<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Try Again ‚ù§Ô∏è</title>

<!-- Use same styles as main.html for perfect responsiveness -->
<link rel="stylesheet" href="./styles.css">

<style>
/* Video/Image container like main.html */
.gif_container {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  margin: 18px 0;
}

video {
  width: 85%;
  max-width: 92vw;
  max-height: 52vh;
  height: auto;
  border-radius: 18px;
}

.buttons {
  display: flex;
  gap: 24px;
  margin-top: 24px;
  flex-wrap: wrap;
  justify-content: center;
}

.btn {
  background-color: #fff;
  color: rgb(233,48,48);
  padding: 14px 36px;
  font-size: clamp(16px, 2.8vw, 20px);
  border: none;
  border-radius: 16px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

/* Remove hover for buttons */
.btn:hover {
  transform: none;
}

/* Ensure Yes/No positions reset each load */
#yesButton, #noButton {
  position: relative;
}
</style>
</head>
<body>

<div class="container">

  <div class="gif_container">
    <video autoplay loop muted playsinline>
      <source src="Dil.mp4" type="video/mp4">
    </video>
  </div>

  <h1 class="header_text">
    Mar to jana hi hai ek din,<br>
    Tum mil jao to thoda jee lengeüíò
  </h1>

  <div class="buttons">
    <button class="btn" id="yesButton">Yes</button>
    <button class="btn" id="noButton">No</button>
  </div>

</div>

<script>
let yesButton = document.getElementById("yesButton");
let noButton = document.getElementById("noButton");

// Reset Yes button scale on page load
let yesSize = 1;
yesButton.style.transform = `scale(${yesSize})`;

// Get attempt count from localStorage (incremented by no.html)
let attempt = parseInt(localStorage.getItem("attempt") || "1");

// Track number of clicks on No button for this page load
let noClickCount = 0;

yesButton.addEventListener("click", function(){
  yesSize += 0.1; // increase size
  yesButton.style.transform = `scale(${yesSize})`;
  window.location.href = "yes.html";
});

noButton.addEventListener("click", function(){
  let requiredClicks = attempt > 1 ? 4 : 1; // 4 clicks after first try
  noClickCount++;

  if(noClickCount >= requiredClicks){
    window.location.href = "no.html";
  } else {
    // Slight visual feedback
    noButton.style.transform = `scale(1.05)`;
    setTimeout(()=>{ noButton.style.transform = `scale(1)`; }, 150);
  }
});
</script>

</body>
</html>
